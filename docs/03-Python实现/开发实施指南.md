# Voice Memory - 开发实施指南

**版本：** v0.1
**日期：** 2025-12-29
**目标读者：** AI编码助手（Cursor、ChatGPT、Claude等）
**文档目的：** 提供清晰的技术实施规范

---

## 文档使用说明

**本文档定位：**
- 这是给**AI编码助手**阅读的实施指南
- 包含具体的技术要求、数据结构、API设计
- 不包含具体代码实现，由AI模型根据本文档生成代码

**如何使用本文档：**
```
你（用户）→ 提供本文档 → AI编码助手 → 生成代码 → 项目实现
```

**与其他文档的关系：**
- `技术栈决策文档.md`：规定了用什么技术
- `技术调研文档.md`：解释了为什么这样选
- `本文档`：规定具体怎么做

---

## 一、项目实施路线图

### 1.1 分阶段实施

```
┌─────────────────────────────────────────────────────────────┐
│                     MVP实施路线                                │
└─────────────────────────────────────────────────────────────┘

Week 1-2: 基础架构
  ├─ 创建项目结构
  ├─ 配置开发环境
  ├─ 实现核心模块骨架
  └─ 目标：可运行的空框架

Week 3-4: 核心功能（Phase 1）
  ├─ 唤醒词检测
  ├─ STT集成
  ├─ AI对话
  ├─ TTS播放
  └─ 目标：端到端可对话

Week 5-6: 记忆系统
  ├─ Markdown + SQLite存储
  ├─ 上下文管理
  ├─ 静默归档
  └─ 目标：持久记忆

Week 7: 测试优化
  ├─ 端到端测试
  ├─ 错误处理
  ├─ 性能优化
  └─ 目标：可发布的MVP
```

---

## 二、项目结构规范

### 2.1 目录结构（必须遵循）

```
voice-memory/
├── README.md                    # 项目说明
├── .env.example                # 环境变量模板
├── .gitignore                  # Git忽略文件
├── requirements.txt            # Python依赖
├── docker-compose.yml          # Docker编排
│
├── backend/                    # 后端服务（Python）
│   ├── __init__.py
│   ├── main.py                 # FastAPI应用入口
│   │
│   ├── api/                    # API层
│   │   ├── __init__.py
│   │   ├── routes/
│   │   │   ├── __init__.py
│   │   │   ├── chat.py         # 对话相关API
│   │   │   ├── memory.py       # 记忆相关API
│   │   │   └── health.py       # 健康检查
│   │   ├── deps.py             # 依赖注入
│   │   └── middleware.py       # 中间件
│   │
│   ├── core/                  # 核心业务逻辑
│   │   ├── __init__.py
│   │   ├── stt.py              # STT服务接口
│   │   ├── tts.py              # TTS服务接口
│   │   ├── ai_client.py        # AI客户端封装
│   │   ├── memory.py           # 记忆存储服务
│   │   ├── conversation.py     # 对话管理器
│   │   └── config.py          # 配置管理
│   │
│   ├── models/                # 数据模型
│   │   ├── __init__.py
│   │   ├── database.py         # SQLAlchemy ORM模型
│   │   ├── schemas.py          # Pydantic API Schema
│   │   └── entities.py         # 业务实体定义
│   │
│   ├── utils/                 # 工具函数
│   │   ├── __init__.py
│   │   ├── audio.py            # 音频处理工具
│   │   ├── cache.py           # 缓存工具
│   │   └── logger.py          # 日志工具
│   │
│   └── tests/                 # 测试
│       ├── __init__.py
│       ├── unit/
│       ├── integration/
│       └── e2e/
│
├── clients/                    # 客户端
│   ├── terminal/              # Terminal CLI
│   │   ├── __init__.py
│   │   ├── main.py            # CLI入口
│   │   └── commands.py       # 命令定义
│   │
│   └── macos/                 # macOS App（Swift项目）
│       └── VoiceMemory/
│
├── storage/                    # 本地存储
│   ├── markdown/               # Markdown文件
│   └── memory.db              # SQLite数据库
│
├── scripts/                    # 脚本
│   ├── setup.sh               # 初始化
│   ├── dev.sh                 # 开发环境
│   └── build.sh              # 构建
│
└── docs/                       # 文档
    ├── 产品文档.md
    ├── 技术调研文档.md
    ├── 技术栈决策文档.md
    ├── 核心代码选择与使用说明.md
    ├── 可打断技术实现方案.md
    └── 开发实施指南.md（本文档）
```

### 2.2 文件命名规范

```yaml
Python文件:
  - 使用小写字母和下划线: `ai_client.py`
  - 类名使用大驼峰: `class AIClient`
  - 常量使用大写: `MAX_TOKENS = 4096`

Swift文件:
  - 使用大驼峰: `ConversationManager.swift`
  - 类名与文件名一致: `class ConversationManager`

Markdown文件:
  - 使用小写字母和连字符: `voice-memory-guide.md`
  - 日期归档: `2025-12-29/brain-in-vat.md`
```

---

## 三、模块实施规范

### 3.1 模块1：后端API框架

**文件：** `backend/main.py`

**功能要求：**
1. 初始化FastAPI应用
2. 配置CORS（允许前端调用）
3. 注册所有路由
4. 配置全局异常处理
5. 配置日志系统
6. 启动Uvicorn服务器

**必须包含的端点：**
```
GET  /health           # 健康检查
POST /api/v1/chat       # 单次对话（Phase 1）
GET  /api/v1/memory     # 获取记忆
POST /api/v1/memory     # 保存记忆
```

**配置要求：**
```yaml
环境变量:
  - API_HOST: 默认 0.0.0.0
  - API_PORT: 默认 8000
  - DEBUG: 默认 false
  - LOG_LEVEL: 默认 INFO

CORS配置:
  - 允许来源: * (开发环境)
  - 允许方法: GET, POST, PUT, DELETE
  - 允许头部: *

日志配置:
  - 格式: JSON（生产）
  - 级别: INFO（可调）
  - 输出: stdout
```

---

### 3.2 模块2：STT服务

**文件：** `backend/core/stt.py`

**类名：** `SpeechToText` 或 `STTService`

**必须实现的方法：**
```python
class SpeechToText:
    def __init__(self, api_key: Optional[str] = None)
    async def transcribe(self, audio_data: bytes, language: str = "zh") -> str
    async def transcribe_with_timestamps(self, audio_data: bytes) -> Dict
```

**接口规范：**
```yaml
输入:
  audio_data: bytes  # 音频数据（mp3, wav等）
  language: str     # 语言代码（zh, en等）
  返回: str         # 转写文本

错误处理:
  - APIError: OpenAI API调用失败
  - ValueError: 音频格式不支持
  - TimeoutError: API超时
```

**备用实现要求：**
需要同时支持本地Whisper作为备用：
```python
class LocalSpeechToText:
    def __init__(self, model_size: str = "base")
    async def transcribe(self, audio_path: str) -> str
```

---

### 3.3 模块3：TTS服务

**文件：** `backend/core/tts.py`

**类名：** `TextToSpeech` 或 `TTSService`

**必须实现的方法：**
```python
class TextToSpeech:
    def __init__(self, api_key: Optional[str] = None)
    async def synthesize(self, text: str, voice: str = "alloy") -> bytes
    async def synthesize_stream(self, text: str) -> AsyncIterator[bytes]
    async def synthesize_to_file(self, text: str, output_path: str) -> str
```

**接口规范：**
```yaml
输入:
  text: str        # 要合成的文本
  voice: str       # 声音选择（alloy, echo等）
  返回: bytes      # 音频数据（mp3格式）

参数约束:
  - text长度: 建议<500字符（单次）
  - 速度: 0.25 - 4.0（未来扩展）
```

---

### 3.4 模块4：AI客户端

**文件：** `backend/core/ai_client.py`

**类名：** `AIClient` 或 `ClaudeClient`

**必须实现的方法：**
```python
class AIClient:
    def __init__(self, api_key: Optional[str] = None)
    async def chat(self, messages: List[Dict]) -> str
    async def chat_stream(self, messages: List[Dict]) -> AsyncIterator[str]

    def set_model(self, model: str)  # 切换模型
    def get_usage_stats(self) -> Dict  # 获取使用统计
```

**模型选择策略：**
```python
MODEL_SELECTION = {
    "simple": "claude-3-5-haiku-20241022",   # <200字符
    "complex": "claude-3-5-sonnet-20241022", # >=200字符
    "code": "claude-3-5-sonnet-20241022"     # 代码相关
}

def auto_select_model(user_input: str) -> str:
    # 根据输入长度和内容自动选择
    if len(user_input) < 200 and not is_code_related(user_input):
        return MODEL_SELECTION["simple"]
    return MODEL_SELECTION["complex"]
```

---

### 3.5 模块5：对话管理器

**文件：** `backend/core/conversation.py`

**类名：** `ConversationManager`

**必须实现的功能：**
```python
class ConversationManager:
    def __init__(self, system_prompt: Optional[str] = None)
    def add_user_message(self, content: str)
    def add_assistant_message(self, content: str)
    async def get_response(self, user_input: str) -> str
    def clear_history(self)
    def set_system_prompt(self, prompt: str)
    def get_context(self) -> List[Dict]
```

**上下文管理规则：**
```yaml
最大历史记录数: 20轮
包含内容:
  - 系统提示词
  - 用户消息
  - AI回复
  - 元数据（时间戳、token使用）

上下文更新时机:
  - 每次对话后
  - 保持上下文在合理大小
  - 重要内容可标记为"pin"
```

---

### 3.6 模块6：记忆存储

**文件：** `backend/core/memory.py`

**类名：** `MemoryStore`

**必须实现的方法：**
```python
class MemoryStore:
    def __init__(self, base_path: str)
    async def save_note(self, title: str, content: str, **kwargs) -> str
    async def get_note(self, permalink: str) -> Optional[Dict]
    async def search(self, query: str) -> List[Dict]
    async def list_recent(self, limit: int = 10) -> List[Dict]
    async def delete_note(self, permalink: str) -> bool
```

**数据模型：**
```sql
-- 实体表
CREATE TABLE entities (
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    title TEXT NOT NULL,
    permalink TEXT UNIQUE NOT NULL,
    type TEXT DEFAULT 'note',
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);

-- 观察记录表
CREATE TABLE observations (
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    entity_id INTEGER NOT NULL,
    category TEXT,
    content TEXT NOT NULL,
    tags TEXT,
    context TEXT,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    FOREIGN KEY (entity_id) REFERENCES entities(id)
);

-- 关系表
CREATE TABLE relations (
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    source_entity_id INTEGER NOT NULL,
    target_entity_id INTEGER NOT NULL,
    relation_type TEXT NOT NULL,
    context TEXT,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    FOREIGN KEY (source_entity_id) REFERENCES entities(id),
    FOREIGN KEY (target_entity_id) REFERENCES entities(id)
);
```

**Markdown格式规范：**
```markdown
---
title: 笔记标题
permalink: note-permalink
tags:
  - 标签1
  - 标签2
type: note
created: 2025-12-29
---

# 笔记标题

## 观察记录

- [category] 内容描述 #tag (context)

## 关系

- relation_type [[OtherNote]]
  - relates_to [[AnotherNote]]
```

---

## 四、API设计规范

### 4.1 对话API

**端点：** `POST /api/v1/chat`

**请求格式：**
```json
{
  "message": "用户消息内容",
  "conversation_id": "可选的会话ID",
  "use_local_stt": false,
  "prefer_local_stt": false
}
```

**响应格式：**
```json
{
  "response": "AI的回复内容",
  "conversation_id": "会话ID",
  "usage": {
    "input_tokens": 100,
    "output_tokens": 200,
    "model": "claude-3-5-haiku-20241022"
  },
  "transcription": {
    "text": "用户的转写文本",
    "confidence": 0.95
  }
}
```

**错误响应：**
```json
{
  "error": "错误类型",
  "message": "详细错误信息",
  "code": "ERROR_CODE",
  "timestamp": "2025-12-29T12:00:00Z"
}
```

### 4.2 记忆API

**获取记忆：** `GET /api/v1/memory/{permalink}`

**保存记忆：** `POST /api/v1/memory`
```json
{
  "title": "笔记标题",
  "content": "笔记内容",
  "tags": ["tag1", "tag2"],
  "relations": [
    {"target": "other-note", "type": "relates_to"}
  ]
}
```

**搜索记忆：** `GET /api/v1/memory/search?q=关键词`

---

## 五、环境配置规范

### 5.1 环境变量

**文件：** `.env`

```bash
# API配置
API_HOST=0.0.0.0
API_PORT=8000
DEBUG=false
LOG_LEVEL=INFO

# AI服务
ANTHROPIC_API_KEY=sk-ant-xxxxx
OPENAI_API_KEY=sk-xxxxx

# Picovoice
PICOVOICE_ACCESS_KEY=xxxxx

# 存储
MEMORY_BASE_PATH=~/basic-memory

# 功能开关
ENABLE_LOCAL_STT=false
ENABLE_VAD=false
ENABLE_BARGE_IN=false

# 性能配置
MAX_CONTEXT_LENGTH=20
CACHE_TTL=3600
```

### 5.2 依赖管理

**文件：** `requirements.txt`

```txt
# 核心框架
fastapi==0.100.0
uvicorn[standard]==0.23.0
websockets==12.0
pydantic==2.0.0
pydantic-settings==2.0.0

# AI服务
anthropic==0.18.0
openai==1.3.0

# 语音处理
pvporcupine==3.0.0
pyaudio==0.2.13
faster-whisper==1.0.0
webrtcvad==2.0.10

# 存储
sqlalchemy==2.0.0
chromadb==0.4.0

# 工具
python-dotenv==1.0.0
typer==0.9.0
rich==13.0.0
httpx==0.25.0

# 开发工具
pytest==7.4.0
pytest-asyncio==0.21.0
black==23.12.0
ruff==0.1.0
```

---

## 六、测试规范

### 6.1 单元测试要求

**文件位置：** `backend/tests/unit/`

**测试覆盖率目标：**
- 核心模块：>80%
- 工具函数：>90%
- 整体：>70%

**必须测试的模块：**
```
tests/unit/
├── test_stt.py              # STT服务测试
├── test_tts.py              # TTS服务测试
├── test_ai_client.py       # AI客户端测试
├── test_memory.py           # 记忆存储测试
├── test_conversation.py    # 对话管理测试
└── test_utils.py           # 工具函数测试
```

### 6.2 集成测试要求

**文件位置：** `backend/tests/integration/`

**测试场景：**
```
tests/integration/
├── test_chat_e2e.py        # 端到端对话测试
├── test_memory_flow.py     # 记忆保存和检索
└── test_api_routes.py      # API路由测试
```

### 6.3 测试数据

**使用Mock而不是真实API调用：**
```python
# 示例：使用pytest-mock
from unittest.mock import Mock, AsyncMock

@pytest.mark.asyncio
async def test_ai_client():
    client = AIClient(api_key="test_key")

    # Mock API响应
    with mock.patch.object(client.client, 'messages.create') as mock_create:
        mock_create.return_value = Mock(content=[Mock(text="测试回复")])

        response = await client.chat([{"role": "user", "content": "测试"}])

        assert response == "测试回复"
```

---

## 七、代码规范

### 7.1 Python代码风格

**遵循标准：** PEP 8

**使用工具：**
- Black：代码格式化
- Ruff：Linter
- isort：导入排序

**格式配置：**
```toml
# pyproject.toml

[tool.black]
line-length = 100
target-version = py312

[tool.ruff]
line-length = 100
select = ["E", "F", "I", "N", "W", "UP"]
ignore = ["E501"]  # 行长度由black处理

[tool.isort]
profile = "black"
line_length = 100
```

### 7.2 类型提示

**要求：** 所有公开API必须使用类型提示

```python
from typing import Optional, List, Dict, AsyncIterator

class AIClient:
    async def chat(
        self,
        messages: List[Dict[str, str]],
        model: Optional[str] = None
    ) -> str:
        """与AI对话"""
        pass
```

### 7.3 文档字符串

**要求：** 所有公开类和方法必须有docstring

```python
def transcribe(audio_data: bytes, language: str = "zh") -> str:
    """
    转写音频为文本

    Args:
        audio_data: 音频数据（bytes）
        language: 语言代码，默认"zh"（中文）

    Returns:
        str: 转写文本

    Raises:
        ValueError: 音频格式不支持
        APIError: API调用失败

    Example:
        >>> stt = SpeechToText()
        >>> text = await stt.transcribe(audio_data)
    """
```

---

## 八、部署规范

### 8.1 Docker配置

**文件：** `Dockerfile`

```dockerfile
# 使用官方Python镜像
FROM python:3.12-slim

# 设置工作目录
WORKDIR /app

# 安装系统依赖
RUN apt-get update && apt-get install -y \
    portaudio19-dev \
    python3-pyaudio \
    && rm -rf /var/lib/apt/lists/*

# 复制依赖文件
COPY requirements.txt .

# 安装Python依赖
RUN pip install --no-cache-dir -r requirements.txt

# 复制应用代码
COPY . .

# 暴露端口
EXPOSE 8000

# 启动命令
CMD ["uvicorn", "api.main:app", "--host", "0.0.0.0", "--port", "8000"]
```

### 8.2 Docker Compose配置

**文件：** `docker-compose.yml`

```yaml
version: '3.8'

services:
  api:
    build: .
    ports:
      - "8000:8000"
    environment:
      - ANTHROPIC_API_KEY=${ANTHROPIC_API_KEY}
      - OPENAI_API_KEY=${OPENAI_API_KEY}
      - PICOVOICE_ACCESS_KEY=${PICOVOICE_ACCESS_KEY}
    volumes:
      - ./storage:/app/storage
    env_file:
      - .env
    restart: unless-stopped
```

---

## 九、安全规范

### 9.1 API密钥管理

**要求：**
- ❌ **永远不要**将API密钥提交到Git
- ✅ 使用环境变量
- ✅ 使用`.env.example`作为模板
- ✅ 在`.gitignore`中排除`.env`

### 9.2 输入验证

**要求：** 所有用户输入必须验证

```python
from pydantic import BaseModel, Field, validator

class ChatRequest(BaseModel):
    message: str = Field(..., min_length=1, max_length=5000)
    conversation_id: Optional[str] = Field(None, regex=r"^[a-zA-Z0-9-]{1,50}$")

    @validator('message')
    def validate_message(cls, v):
        # 移除恶意字符
        return v.strip()
```

### 9.3 错误处理

**要求：** 统一的错误处理

```python
from fastapi import HTTPException

class ErrorCode:
    INVALID_INPUT = "INVALID_INPUT"
    API_ERROR = "API_ERROR"
    NOT_FOUND = "NOT_FOUND"

# 全局异常处理器
@app.exception_handler(ValueError)
async def value_error_handler(request, exc):
    return JSONResponse(
        status_code=400,
        content={
            "error": "INVALID_INPUT",
            "message": str(exc),
            "code": ErrorCode.INVALID_INPUT
        }
    )
```

---

## 十、性能规范

### 10.1 响应时间要求

| API | 目标延迟 | P95延迟 |
|-----|----------|---------|
| /health | <50ms | <100ms |
| /api/v1/chat | <3s | <5s |
| /api/v1/memory/* | <500ms | <1s |

### 10.2 并发处理

**要求：**
- 使用asyncio异步处理
- API调用可并发
- 数据库操作使用连接池

### 10.3 缓存策略

**需要缓存的内容：**
```python
# 常用回复（24小时）
# 用户上下文（会话期间）
# 静态资源（永久）

# 使用内存缓存
from functools import lru_cache
from cachetools import TTLCache

# LRU缓存
@lru_cache(maxsize=128)
def get_system_prompt() -> str:
    return "你是Voice Memory..."

# TTL缓存
cache = TTLCache(maxsize=1000, ttl=3600)  # 1小时
```

---

## 十一、日志规范

### 11.1 日志级别

```yaml
DEBUG: 开发调试信息
INFO: 一般信息（生产）
WARNING: 警告信息
ERROR: 错误信息
CRITICAL: 严重错误
```

### 11.2 日志格式

**要求：** 结构化JSON日志

```python
import logging
import json
from datetime import datetime

class JSONFormatter(logging.Formatter):
    def format(self, record):
        log_obj = {
            "timestamp": datetime.utcnow().isoformat(),
            "level": record.levelname,
            "logger": record.name,
            "message": record.getMessage(),
            "module": record.module,
            "function": record.funcName,
            "line": record.lineno
        }
        if record.exc_info:
            log_obj["exception"] = self.formatException(record.exc_info)
        return json.dumps(log_obj)
```

### 11.3 关键日志点

```yaml
必须记录:
  ✅ API请求/响应
  ✅ 外部API调用（STT/TTS/AI）
  ✅ 错误和异常
  ✅ 性能指标（延迟）
  ✅ 用户操作（保存/删除）

禁止记录:
  ❌ 敏感数据（API密钥、密码）
  ❌ 用户隐私（对话内容的原始数据）
  ❌ 大型二进制数据
```

---

## 十二、实施检查清单

### 12.1 Week 1-2：基础架构

```
□ 创建项目目录结构
□ 初始化Git仓库
□ 配置开发环境（虚拟环境）
□ 实现FastAPI基础框架
□ 配置CORS和中间件
□ 实现健康检查端点
□ 编写基础测试框架
□ 配置Docker环境
```

### 12.2 Week 3-4：核心功能

```
□ 实现STT服务（Whisper API）
□ 实现TTS服务（OpenAI TTS）
□ 实现AI客户端（Claude）
□ 实现对话管理器
□ 实现基础对话API
□ 集成Porcupine唤醒词
□ 端到端测试（手动）
```

### 12.3 Week 5-6：记忆系统

```
□ 设计数据库Schema
□ 实现MemoryStore
□ 实现Markdown文件存储
□ 实现搜索功能
□ 实现上下文管理
□ 静默归档逻辑
□ 集成测试
```

### 12.4 Week 7：测试优化

```
□ 完善错误处理
□ 性能测试
□ 安全检查
□ 用户体验优化
□ 文档完善
□ 部署准备
□ 用户测试
```

---

## 十三、验收标准

### 13.1 MVP验收标准

**功能完整性：**
- ✅ 可以通过唤醒词启动
- ✅ 语音转文字准确率>90%
- ✅ AI回复相关且有逻辑
- ✅ 文字转语音清晰可懂
- ✅ 对话内容可持久保存
- ✅ 可以搜索历史记录

**性能要求：**
- ✅ 端到端延迟<5秒
- ✅ API响应时间<500ms（P95）
- ✅ 内存使用<500MB
- ✅ CPU使用<50%（空闲时）

**用户体验：**
- ✅ 醒词检测准确率>90%
- ✅ 对话流程自然顺畅
- ✅ 错误有友好提示

### 13.2 代码质量标准

**代码规范：**
- ✅ 通过black格式化
- ✅ 通过ruff检查
- ✅ 类型提示覆盖率>80%
- ✅ 文档字符串覆盖率>70%
- ✅ 测试覆盖率>60%

---

## 附录A：快速启动命令

```bash
# 1. 克隆项目
git clone <repository-url>
cd voice-memory

# 2. 创建虚拟环境
python -m venv venv
source venv/bin/activate  # Windows: venv\Scripts\activate

# 3. 安装依赖
pip install -r requirements.txt

# 4. 配置环境变量
cp .env.example .env
# 编辑.env，填入API Keys

# 5. 运行开发服务器
uvicorn api.main:app --reload --host 0.0.0.0 --port 8000

# 6. 测试API
curl http://localhost:8000/health

# 7. 运行测试
pytest tests/

# 8. Docker部署
docker-compose up --build
```

---

## 附录B：常见问题解决

### B.1 依赖安装问题

**问题：** `pyaudio`安装失败
```bash
# macOS
brew install portaudio
pip install pyaudio

# Ubuntu/Debian
sudo apt-get install portaudio19-dev python3-pyaudio
pip install pyaudio
```

**问题：** `faster-whisper`安装慢
```bash
# 使用国内镜像
pip install -i https://pypi.tuna.tsinghua.edu.cn/simple faster-whisper
```

### B.2 API调用问题

**问题：** API调用超时
```python
# 添加超时配置
import httpx

client = httpx.AsyncClient(timeout=30.0)  # 30秒超时
```

**问题：** API密钥无效
```bash
# 检查环境变量
echo $ANTHROPIC_API_KEY
echo $OPENAI_API_KEY

# 检查.env文件是否加载
python -c "from dotenv import load_dotenv; load_dotenv(); import os; print(os.getenv('API_KEY'))"
```

---

**文档版本历史：**
- v0.1 (2025-12-29): 初始版本，开发实施指南
