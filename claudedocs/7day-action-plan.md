# Voice Memory - 7天快速可用计划

**目标**: 个人使用的语音知识库工具
**时间**: 1周 (7天)
**原则**: 快速可用 > 功能完整 > 代码质量

---

## 每日任务清单

### Day 1: TTS 语音播放 ⭐ 最关键

**目标**: AI回复能够以语音形式播放

**任务**:
1. 选择 TTS 方案
   - [ ] 评估: 百度 TTS vs GLM-4 Audio vs 其他
   - [ ] 决策并实现

2. 后端实现
   - [ ] `internal/service/tts_client.go` - TTS服务
   - [ ] `internal/handler/chat_handler.go` - 返回音频URL
   - [ ] API 端点: `GET /api/tts?text=xxx`

3. 前端实现
   - [ ] 音频播放组件
   - [ ] 自动播放AI回复

**验收标准**: 能说话给AI，AI能语音回复

---

### Day 2: 完整对话流程

**目标**: 录音 → STT → AI → TTS → 播放 一气呵成

**任务**:
1. 前端交互优化
   - [ ] 录音状态指示
   - [ ] 转录实时显示
   - [ ] AI思考状态显示
   - [ ] 语音自动播放

2. 错误处理
   - [ ] 网络错误提示
   - [ ] API失败重试
   - [ ] 友好的错误信息

**验收标准**: 整个流程顺畅，无卡顿

---

### Day 3: PWA 基础功能

**目标**: 能安装到桌面/主屏幕，像原生应用

**任务**:
1. PWA 配置
   - [ ] `web/manifest.json` - 应用信息、图标
   - [ ] Service Worker - 基础缓存策略
   - [ ] 图标生成 (192x192, 512x512)

2. 安装体验
   - [ ] 安装提示横幅
   - [ ] 独立窗口运行

**验收标准**: 能"添加到主屏幕"，离线也能打开界面

---

### Day 4: 知识库优化

**目标**: 方便查看和管理已保存的知识

**任务**:
1. 知识列表界面
   - [ ] 卡片式展示
   - [ ] 分类/标签筛选
   - [ ] 搜索功能

2. 知识详情
   - [ ] 查看完整内容
   - [ ] 编辑/删除
   - [ ] 关联会话

**验收标准**: 能快速找到和查看历史知识

---

### Day 5: 稳定性修复

**目标**: 减少崩溃和错误

**任务**:
1. 测试常见场景
   - [ ] 网络断开
   - [ ] API限流
   - [ ] 长文本输入
   - [ ] 快速连续操作

2. 修复发现的问题
   - [ ] 边界情况处理
   - [ ] 资源泄漏检查
   - [ ] 数据持久化验证

**验收标准**: 连续使用1小时无崩溃

---

### Day 6: 用户体验优化

**目标**: 使用更顺手

**任务**:
1. 快捷操作
   - [ ] 空格键: 开始/停止录音
   - [ ] ESC键: 停止播放
   - [ ] 快捷键提示

2. 视觉反馈
   - [ ] 加载动画
   - [ ] 操作确认提示
   - [ ] 更好的视觉层次

3. 配置
   - [ ] 保存API密钥到本地
   - [ ] 播放速度调节
   - [ ] 音量控制

**验收标准**: 操作直观，有良好的反馈

---

### Day 7: 实际使用测试

**目标**: 真实场景验证

**任务**:
1. 模拟真实使用
   - [ ] 记录10条想法
   - [ ] 进行5次对话
   - [ ] 搜索历史记录
   - [ ] 跨会话上下文

2. 发现并修复
   - [ ] 记录问题清单
   - [ ] 优先修复严重问题
   - [ ] 调整不合理的地方

3. 交付准备
   - [ ] 启动脚本
   - [ ] 使用说明
   - [ ] 备份建议

**验收标准**: 能够开始日常使用

---

## 不做的事 (避免范围蔓延)

- ❌ 单元测试
- ❌ 代码重构
- ❌ 打断功能
- ❌ 唤醒词
- ❌ 用户认证
- ❌ 复杂的搜索
- ❌ 数据导入导出
- ❌ 统计分析

---

## 技术决策 (快速原则)

### TTS 选择
| 方案 | 优点 | 缺点 | 选择 |
|------|------|------|------|
| 百度 TTS | 已有账号 | 需要额外调用 | ✅ |
| GLM-4 Audio | 统一API | 较新，文档少 | 备选 |
| 浏览器 speechSynthesis | 免费 | 效果一般 | 保底 |

**推荐**: 百度 TTS (已有密钥，稳定)

### 前端框架
- 不用 React/Vue，直接 Vanilla JS
- 使用 Tailwind CSS CDN
- 保持简单，易于修改

### 数据存储
- 继续使用 SQLite
- 定期手动备份 `data/` 目录
- 不做复杂迁移

---

## 每日检查点

**每天结束时回答**:
1. 今天的任务完成了吗？
2. 能演示一个完整的功能吗？
3. 发现了什么意外问题？
4. 明天需要调整吗？

---

## 7天后应该达到的状态

✅ 能说话给AI听
✅ AI能语音回复
✅ 对话自动保存
✅ 能搜索历史记录
✅ 安装到桌面使用
✅ 稳定不崩溃

**最重要的是**: 你开始真正使用它！

---

## 立即开始

**Day 1 任务**: 实现 TTS 语音播放

要开始吗？我们来实现第一个功能。
